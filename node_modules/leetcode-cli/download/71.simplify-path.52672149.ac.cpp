/*
 * [71] Simplify Path
 *
 * https://leetcode.com/problems/simplify-path
 *
 * Medium (24.38%)
 * Total Accepted:    77479
 * Total Submissions: 317818
 * Testcase Example:  '"/"'
 *
 * Given an absolute path for a file (Unix-style), simplify it.
 * 
 * For example,
 * path = "/home/", => "/home"
 * path = "/a/./b/../../c/", => "/c"
 * 
 * 
 * click to show corner cases.
 * 
 * Corner Cases:
 * 
 * 
 * 
 * Did you consider the case where path = "/../"?
 * In this case, you should return "/".
 * Another corner case is the path might contain multiple slashes '/' together,
 * such as "/home//foo/".
 * In this case, you should ignore redundant slashes and return "/home/foo".
 * 
 * 
 */
class Solution {
public:
    string simplifyPath(string path) {
        stack<string> ss;
        int i=0,n=path.size(),j;
        while (i<n) {
            j=path.find('/',i+1);
            if (j==string::npos) j=n;
            string s = path.substr(i+1,j-i-1);
            if (s=="." || s=="") {}
            else if (s=="..") { if (!ss.empty()) ss.pop(); }
            else ss.push(s);
            i=j;
        }
        if (ss.empty()) return "/";
        
        string p;
        while (!ss.empty()) {
            string s = ss.top();
            ss.pop();
            p = "/" + s + p;
        }
        return p;
    }
};
