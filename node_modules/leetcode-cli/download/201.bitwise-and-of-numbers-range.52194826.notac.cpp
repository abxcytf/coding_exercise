/*
 * [201] Bitwise AND of Numbers Range
 *
 * https://leetcode.com/problems/bitwise-and-of-numbers-range
 *
 * Medium (33.34%)
 * Total Accepted:    50616
 * Total Submissions: 151779
 * Testcase Example:  '0\n0'
 *
 * Given a range [m, n] where 0 <= m <= n <= 2147483647, return the bitwise AND
 * of all numbers in this range, inclusive.
 * 
 * 
 * For example, given the range [5, 7], you should return 4.
 * 
 * 
 * Credits:Special thanks to @amrsaqr for adding this problem and creating all
 * test cases.
 */
class Solution {
public:
    int getpower(int x) {
        while ((x&(x-1)) != 0) x=x&(x-1);
        return x;
    }
    int rangeBitwiseAnd(int m, int n) {
        if (m==n) return m;
        int p1 = getpower(m), p2 = getpower(n);
        if (p1 != p2) return 0;
        return m & n & ~(getpower(n-m+1)-1);
    }
};
