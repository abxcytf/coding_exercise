/*
 * [220] Contains Duplicate III
 *
 * https://leetcode.com/problems/contains-duplicate-iii
 *
 * Medium (19.35%)
 * Total Accepted:    47972
 * Total Submissions: 247910
 * Testcase Example:  '[]\n0\n0'
 *
 * 
 * Given an array of integers, find out whether there are two distinct indices
 * i and j in the array such that the absolute difference between nums[i] and
 * nums[j] is at most t and the absolute difference between i and j is at most
 * k.
 * 
 */
class Solution {
public:
    bool containsNearbyAlmostDuplicate(vector<int>& nums, int k, int t) {
        int n = nums.size();
        vector<vector<int>> m(n);
        for (int i=0; i<n; ++i) m[i].resize(k+1);
        for (int i=0; i<n; ++i) m[i][0]=0;
        
        for (int i=1; i<=k; ++i) {
            for (int j=0; j+i<n; ++j) {
                m[j][i] = abs(nums[j]-nums[j+i]);
                if (i>1) {
                    m[j][i] = min(m[j][i-1],min(m[j+1][i],m[j][i]));
                }
                //cout << "[" << j << "," << j+i << "] " << m[j][j+i]<< ", " << M[j][j+i] << endl;
                if (m[j][i]<=t) return true;
            }
        }
        return false;
    }
};
